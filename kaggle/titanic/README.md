# Kaggle Competitions: Titanic
_Top 5%: 
Score: 0.79665
Place: 556th from 13970th_

Задача: "Предсказать вероятность выживания пассажиров"
https://www.kaggle.com/competitions/titanic
***
### Исходные данные:
    - Variable    Definition  Key
    - survival    Survival    (0 = No, 1 = Yes)
    - pclass  Ticket class    (1 = 1st, 2 = 2nd, 3 = 3rd)
    - sex Sex 
    - Age Age in years    
    - sibsp   # of siblings/spouses aboard the Titanic  
    - parch   # of parents/children aboard the Titanic  
    - ticket  Ticket number   
    - fare    Passenger fare  
    - cabin   Cabin number    
    - embarked    Port of Embarkation (C = Cherbourg, Q = Queenstown, S = Southampton) 

## Обработка данных:
1. Пассажиры сгруппированы по общей фамилии/ единому пасадочному билету/ одной каюте
2. Для групп определены параметры: показатель выживаемость группы, средний возраст и средние транспортные траты  
3. Добавлен признак "тип пассажиров" из подстроки полного наименования пассажира (Капитан, Сэр, Дон, Мисс и прочее)
4. Добавлен признак "тип каюты" из наименования каюты

## Анализ
Проведен анализ признаков с использование матрицы корреляции.
Признаки которые давали большую корреляцию между собой исключены.
Признаки которые давали с целевым показателем отрицательную корреляцию развернуты.
Признак не влияющие на целевой показатель исключены

## Построение моделей
Построены модели:
 - TensorFlow model
 - sklearn models:
    - AdaBoostClassifier
    - GradientBoostingClassifier
    - DecisionTreeClassifier
    - RandomForestClassifier
    - ExtraTreesClassifier
    - HistGradientBoostingClassifier
    - LogisticRegression

На оснвое предиктов всех моделей расчитан единый предикт выживаемости для каждого пассажира.

## Двухэтапная обработка
Сформированый прогноз выживаемости занесен в тестовый набор данных. 
После чего сделан перерасчет выживаемости для групп с учетом всех имеющихся данных ().
После пересчета признака выживаемость группы произведен повторная обработка данных и выполнен перерасчет предикта на всех моделях.  

## TODO
Направления возможного развития: 
* Сгруппировать типы пассажиров по логическому признаку
* Сильно уменьшить размер валидационных данных для обучения.  
* Подобрать гиперпараметры для моделей
* сделать декомпозицию кода, вынести часть кода в отдельные модули, обработку данных отделить от моделирования
* Нормировать параметр age_sex
* Проанализировать важность всех признаков через анализ весов моделей

